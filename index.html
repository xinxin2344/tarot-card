<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>ç¥ç§˜å¡”ç½—ç‰Œ - ç‰Œé˜µæŠ½å–</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
        }

        body {
            background: linear-gradient(135deg, #1a1a2e, #16213e, #0f3460);
            min-height: 100vh;
            color: #fff;
            padding: 15px;
            overflow-x: hidden;
        }

        .container {
            max-width: 1200px;
            width: 100%;
            margin: 0 auto;
            text-align: center;
        }

        h1 {
            font-size: 1.8rem;
            margin-bottom: 0.8rem;
            text-shadow: 0 0 10px rgba(255, 255, 255, 0.5);
            letter-spacing: 1px;
            line-height: 1.2;
        }

        .description {
            margin-bottom: 1.5rem;
            color: #e0e0e0;
            font-size: 1rem;
            line-height: 1.4;
            padding: 0 10px;
        }

        /* ç‰Œé˜µé€‰æ‹©åŒºåŸŸ */
        .spread-selector {
            margin: 1.5rem 0;
            display: flex;
            justify-content: center;
            gap: 10px;
            flex-wrap: wrap;
            padding: 0 5px;
        }

        .spread-btn {
            background: linear-gradient(to right, #6c5ce7, #8e44ad);
            color: white;
            border: none;
            padding: 8px 12px;
            border-radius: 30px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 0.85rem;
            white-space: nowrap;
            flex-shrink: 0;
        }

        .spread-btn.active {
            background: linear-gradient(to right, #a29bfe, #6c5ce7);
            box-shadow: 0 0 15px rgba(108, 92, 231, 0.7);
        }

        .spread-btn:hover {
            transform: translateY(-2px);
        }

        .spread-info {
            margin: 1rem 0;
            padding: 12px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 10px;
            max-width: 100%;
            font-size: 0.9rem;
            line-height: 1.5;
            text-align: left;
        }

        /* å¡”ç½—ç‰Œå®¹å™¨ */
        .tarot-container {
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
            gap: 20px;
            margin: 1.5rem 0;
            perspective: 2000px;
            padding: 0 5px;
        }

        /* å¡”ç½—ç‰ŒåŒ…è£…å™¨ - ç”¨äºåŒ…å«å¡ç‰Œå’Œä¸‹æ–¹æ–‡å­— */
        .card-wrapper {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 8px;
            flex-shrink: 0;
        }

        /* å¡”ç½—ç‰Œæ ·å¼ */
        .tarot-card {
            width: 110px;
            height: 180px;
            position: relative;
            transform-style: preserve-3d;
            transition: transform 0.8s cubic-bezier(0.68, -0.55, 0.27, 1.55);
            cursor: pointer;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
            border-radius: 8px;
            flex-shrink: 0;
        }

        /* ç‰Œé˜µé€‚é… - å•ç‰Œæ”¾å¤§ */
        .tarot-container.single .tarot-card {
            width: 240px;
            height: 380px;
        }

        /* ç‰Œé¢å’Œç‰ŒèƒŒé€šç”¨æ ·å¼ */
        .card-face {
            position: absolute;
            width: 100%;
            height: 100%;
            backface-visibility: hidden;
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 8px;
            overflow: hidden;
        }

        /* ç‰ŒèƒŒæ ·å¼è®¾è®¡ */
        .card-back {
            background: radial-gradient(circle at center, #4a1c40, #2d0b27);
            border: 3px solid #f5e8d5;
        }

        /* å•ç‰Œæ¨¡å¼ç‰ŒèƒŒè¾¹æ¡†åŠ å®½ */
        .tarot-container.single .card-back {
            border-width: 6px;
        }

        /* ç‰ŒèƒŒèŠ±çº¹è®¾è®¡ */
        .card-back::before {
            content: '';
            position: absolute;
            width: 80%;
            height: 80%;
            border: 2px dashed #f5e8d580;
            border-radius: 50%;
            opacity: 0.8;
        }

        .card-back::after {
            content: 'ğŸ”®';
            font-size: 30px;
            opacity: 0.7;
        }

        /* å•ç‰Œæ¨¡å¼ç‰ŒèƒŒå›¾æ ‡æ”¾å¤§ */
        .tarot-container.single .card-back::after {
            font-size: 60px;
        }

        /* ç‰Œé¢æ ·å¼è®¾è®¡ */
        .card-front {
            background: linear-gradient(135deg, #f8f4e9, #f5e8d5);
            color: #2d0b27;
            transform: rotateY(180deg);
            border: 3px solid #4a1c40;
            flex-direction: column;
            text-align: center;
            font-size: 0.75rem;
            padding: 10px;
        }

        /* å•ç‰Œæ¨¡å¼ç‰Œé¢è¾¹æ¡†åŠ å®½ */
        .tarot-container.single .card-front {
            border-width: 6px;
            font-size: 0.95rem;
            padding: 15px;
        }

        /* ç¿»è½¬æ•ˆæœ */
        .tarot-card.flipped {
            transform: rotateY(180deg);
        }

        /* ç‰Œé¢å†…å®¹æ ·å¼ */
        .card-title {
            font-size: 0.9rem;
            font-weight: bold;
            margin-bottom: 0.4rem;
            color: #4a1c40;
            line-height: 1.2;
            word-wrap: break-word;
            width: 100%;
        }

        .tarot-container.single .card-title {
            font-size: 1.5rem;
            margin-bottom: 0.8rem;
        }

        .card-image {
            width: 50px;
            height: 50px;
            margin-bottom: 0.4rem;
            font-size: 35px;
        }

        .tarot-container.single .card-image {
            width: 100px;
            height: 100px;
            font-size: 70px;
            margin-bottom: 0.8rem;
        }

        .card-meaning {
            font-size: 0.7rem;
            line-height: 1.4;
            color: #333;
            max-height: 80px;
            overflow-y: auto;
            width: 100%;
            padding-right: 5px;
            text-align: left;
        }

        /* ä¼˜åŒ–æ»šåŠ¨æ¡æ ·å¼ */
        .card-meaning::-webkit-scrollbar {
            width: 3px;
        }

        .card-meaning::-webkit-scrollbar-thumb {
            background: #4a1c40;
            border-radius: 3px;
        }

        .tarot-container.single .card-meaning {
            font-size: 0.95rem;
            line-height: 1.6;
            max-height: 150px;
            padding-right: 8px;
        }

        /* ç‰Œä½æ–‡å­—æ ·å¼ - ç§»åˆ°å¡ç‰Œä¸‹æ–¹ */
        .card-position {
            font-size: 0.8rem;
            background: rgba(74, 28, 64, 0.8);
            color: white;
            padding: 4px 8px;
            border-radius: 20px;
            white-space: nowrap;
            z-index: 1;
            text-align: center;
            max-width: 90%;
            word-wrap: break-word;
        }

        .tarot-container.single .card-position {
            font-size: 0.9rem;
            padding: 5px 10px;
        }

        /* æŒ‰é’®æ ·å¼ */
        #draw-btn {
            background: linear-gradient(to right, #8e44ad, #9b59b6);
            color: white;
            border: none;
            padding: 12px 30px;
            font-size: 1.1rem;
            border-radius: 50px;
            cursor: pointer;
            margin: 1.5rem 0;
            transition: all 0.3s ease;
            box-shadow: 0 5px 15px rgba(142, 68, 173, 0.4);
            width: 80%;
            max-width: 300px;
        }

        #draw-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(142, 68, 173, 0.6);
            background: linear-gradient(to right, #9b59b6, #8e44ad);
        }

        #draw-btn:disabled {
            background: #666;
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }

        /* å“åº”å¼è®¾è®¡ - å¹³æ¿ */
        @media (min-width: 768px) {
            h1 {
                font-size: 2.2rem;
            }
            
            .tarot-card {
                width: 130px;
                height: 200px;
            }
            
            .tarot-container.single .tarot-card {
                width: 260px;
                height: 420px;
            }
            
            .spread-btn {
                padding: 10px 18px;
                font-size: 0.95rem;
            }
        }

        /* å“åº”å¼è®¾è®¡ - å¤§å±æ‰‹æœº */
        @media (max-width: 480px) {
            h1 {
                font-size: 1.6rem;
            }
            
            .tarot-card {
                width: 95px;
                height: 160px;
            }
            
            .tarot-container.single .tarot-card {
                width: 220px;
                height: 350px;
            }
            
            .spread-selector {
                gap: 8px;
            }
            
            .spread-btn {
                padding: 7px 10px;
                font-size: 0.8rem;
                margin-bottom: 8px;
            }
            
            .card-title {
                font-size: 0.8rem;
            }
            
            .card-meaning {
                font-size: 0.65rem;
                max-height: 70px;
            }
            
            .card-position {
                font-size: 0.75rem;
                padding: 3px 7px;
            }
        }

        /* å“åº”å¼è®¾è®¡ - å°å±æ‰‹æœº */
        @media (max-width: 375px) {
            .tarot-card {
                width: 85px;
                height: 140px;
            }
            
            .tarot-container.single .tarot-card {
                width: 200px;
                height: 320px;
            }
            
            .spread-btn {
                font-size: 0.75rem;
                padding: 6px 8px;
            }
            
            .card-position {
                font-size: 0.7rem;
                padding: 2px 6px;
            }
            
            .card-meaning {
                max-height: 60px;
            }
        }

        /* åŠ è½½åŠ¨ç”» */
        .loading {
            display: inline-block;
            width: 20px;
            height: 20px;
            border: 3px solid rgba(255,255,255,.3);
            border-radius: 50%;
            border-top-color: white;
            animation: spin 1s ease-in-out infinite;
            margin-right: 8px;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸ”® ç¥ç§˜å¡”ç½—ç‰Œ</h1>
        <p class="description">é€‰æ‹©ç‰Œé˜µï¼ŒæŠ½å–ä½ çš„å‘½è¿å¡”ç½—ç‰Œï¼Œæ¢ç´¢æœªçŸ¥çš„æŒ‡å¼•</p>
        
        <!-- ç‰Œé˜µé€‰æ‹© -->
        <div class="spread-selector">
            <button class="spread-btn active" data-spread="single">å•ç‰ŒæŠ½ç‰Œ (1å¼ )</button>
            <button class="spread-btn" data-spread="choice">äºŒé€‰ä¸€ç‰Œé˜µ (2å¼ )</button>
            <button class="spread-btn" data-spread="three">è¿åŠ¿ç‰Œé˜µ (3å¼ )</button>
            <button class="spread-btn" data-spread="five">å¿ƒçµç‰Œé˜µ (5å¼ )</button>
            <button class="spread-btn" data-spread="celtic">å‡¯å°”ç‰¹åå­— (10å¼ )</button>
        </div>
        
        <!-- ç‰Œé˜µè¯´æ˜ -->
        <div class="spread-info" id="spreadInfo">
            <strong>å•ç‰ŒæŠ½ç‰Œ</strong>ï¼šæœ€ç®€æ´çš„ç‰Œé˜µï¼Œç”¨äºå¿«é€Ÿè·å–å½“ä¸‹é—®é¢˜çš„æ ¸å¿ƒæŒ‡å¼•ã€‚
        </div>
        
        <!-- å¡”ç½—ç‰Œå®¹å™¨ -->
        <div class="tarot-container single" id="tarotContainer">
            <!-- å¡ç‰‡ä¼šé€šè¿‡JSåŠ¨æ€ç”Ÿæˆ -->
        </div>

        <button id="draw-btn">æŠ½å–å¡”ç½—ç‰Œ</button>
    </div>

    <script>
        // å®Œæ•´çš„78å¼ å¡”ç½—ç‰Œæ•°æ®åº“
        const tarotCards = {
            // 22å¼ å¤§é˜¿å°”å¡é‚£
            major: [
                { name: "0. æ„šè€…", icon: "ğŸƒ", meaning: "ä»£è¡¨ç€è‡ªç”±ã€å†’é™©å’Œæ–°çš„å¼€å§‹ã€‚ä½ æ­£å¤„äºäººç”Ÿçš„æ–°é˜¶æ®µï¼Œå……æ»¡æ— é™å¯èƒ½ï¼Œå‹‡æ•¢åœ°è¿½éšå†…å¿ƒçš„å¬å”¤ã€‚" },
                { name: "1. é­”æœ¯å¸ˆ", icon: "ğŸª„", meaning: "ä»£è¡¨ç€åˆ›é€ åŠ›ã€è¡ŒåŠ¨åŠ›å’Œè‡ªä¿¡ã€‚ä½ æ‹¥æœ‰å®ç°ç›®æ ‡æ‰€éœ€çš„æ‰€æœ‰èµ„æºå’Œèƒ½åŠ›ï¼Œç°åœ¨æ˜¯é‡‡å–è¡ŒåŠ¨çš„æœ€ä½³æ—¶æœºã€‚" },
                { name: "2. å¥³ç¥­å¸", icon: "ğŸ§â€â™€ï¸", meaning: "è±¡å¾ç€ç›´è§‰ã€æ™ºæ…§å’Œå†…åœ¨çš„å£°éŸ³ã€‚ç°åœ¨éœ€è¦å€¾å¬ä½ çš„ç›´è§‰ï¼Œç›¸ä¿¡å†…åœ¨çš„æŒ‡å¼•ï¼Œç­”æ¡ˆè—åœ¨å¹³é™çš„æ€è€ƒä¸­ã€‚" },
                { name: "3. å¥³çš‡", icon: "ğŸ‘‘", meaning: "ä»£è¡¨ç€ä¸°ç››ã€æ»‹å…»å’Œåˆ›é€ åŠ›ã€‚ä½ çš„ç”Ÿæ´»å°†è¿æ¥ä¸°æ”¶é˜¶æ®µï¼Œæƒ…æ„Ÿã€äº‹ä¸šæˆ–è´¢å¯Œéƒ½å°†å¾—åˆ°æ»¡è¶³å’Œæˆé•¿ã€‚" },
                { name: "4. çš‡å¸", icon: "ğŸ‘‘", meaning: "è±¡å¾ç€é¢†å¯¼åŠ›ã€ç»“æ„å’Œæ§åˆ¶åŠ›ã€‚å±•ç°æƒå¨å’Œå†³æ–­åŠ›ï¼Œå»ºç«‹æ¸…æ™°ç•Œé™ï¼Œæ‰èƒ½æŒæ§å±€é¢ã€‚" },
                { name: "5. æ•™çš‡", icon: "ğŸ“¿", meaning: "ä»£è¡¨ç€ä¼ ç»Ÿã€æ™ºæ…§å’ŒæŒ‡å¯¼ã€‚å¯»æ±‚æ™ºè€…å»ºè®®ï¼Œéµå¾ªå·²æœ‰ç»éªŒï¼Œå°†å¸®åŠ©ä½ åšå‡ºæ­£ç¡®å†³å®šã€‚" },
                { name: "6. æ‹äºº", icon: "â¤ï¸", meaning: "è±¡å¾ç€é€‰æ‹©ã€å’Œè°å’Œå…³ç³»ã€‚é¢ä¸´é‡è¦é€‰æ‹©ï¼Œå¬ä»å†…å¿ƒå£°éŸ³ï¼Œåœ¨å…³ç³»ä¸­ä¿æŒçœŸè¯šå’Œå¹³è¡¡ã€‚" },
                { name: "7. æˆ˜è½¦", icon: "ğŸï¸", meaning: "ä»£è¡¨ç€å‹‡æ°”ã€å†³å¿ƒå’ŒæŒæ§åŠ›ã€‚æ‹¥æœ‰å…‹æœéšœç¢çš„åŠ›é‡ï¼Œä¿æŒä¸“æ³¨å’Œå†³å¿ƒï¼Œé©¶å‘æˆåŠŸæ–¹å‘ã€‚" },
                { name: "8. åŠ›é‡", icon: "ğŸ’ª", meaning: "è±¡å¾ç€å†…åœ¨çš„åŠ›é‡ã€å‹‡æ°”å’Œæ¸©æŸ”ã€‚çœŸæ­£çš„åŠ›é‡æ¥è‡ªå†…å¿ƒçš„å¹³é™å’Œè‡ªä¿¡ï¼Œè€Œéå¤–åœ¨å¼ºç¡¬ã€‚" },
                { name: "9. éšå£«", icon: "ğŸ§™â€â™‚ï¸", meaning: "ä»£è¡¨ç€å†…çœã€æ™ºæ…§å’Œç‹¬å¤„ã€‚éœ€è¦é€€ä¸€æ­¥è‡ªæˆ‘åæ€ï¼Œåœ¨å®‰é™ä¸­å¯»æ‰¾ç­”æ¡ˆå’Œæ–¹å‘ã€‚" },
                { name: "10. å‘½è¿ä¹‹è½®", icon: "ğŸ”„", meaning: "è±¡å¾ç€å˜åŒ–ã€æœºé‡å’Œå‘½è¿ã€‚ç”Ÿæ´»ç»å†è‡ªç„¶å¾ªç¯ï¼Œæ¥å—å˜åŒ–ï¼Œé¡ºåº”æ½®æµï¼Œå¥½è¿å³å°†åˆ°æ¥ã€‚" },
                { name: "11. æ­£ä¹‰", icon: "âš–ï¸", meaning: "ä»£è¡¨ç€å…¬å¹³ã€å¹³è¡¡å’ŒçœŸç›¸ã€‚æ‰€æœ‰è¡Œä¸ºéƒ½ä¼šå¾—åˆ°ç›¸åº”å›æŠ¥ï¼Œä¿æŒå…¬æ­£å’Œè¯šå®è‡³å…³é‡è¦ã€‚" },
                { name: "12. å€’åŠäºº", icon: "ğŸ”„", meaning: "è±¡å¾ç€ç‰ºç‰²ã€æ”¾ä¸‹å’Œæ–°è§†è§’ã€‚æœ‰æ—¶éœ€è¦æ”¾ä¸‹æ‰§å¿µï¼Œæ¢ä¸ªè§’åº¦çœ‹é—®é¢˜ï¼Œæ‰èƒ½è·å¾—æ™ºæ…§ã€‚" },
                { name: "13. æ­»ç¥", icon: "ğŸ’€", meaning: "ä»£è¡¨ç€ç»“æŸã€è½¬å˜å’Œé‡ç”Ÿã€‚ä¸æ˜¯ç‰©ç†æ­»äº¡ï¼Œè€Œæ˜¯æ—§äº‹ç‰©çš„ç»“æŸå’Œæ–°äº‹ç‰©çš„å¼€å§‹ã€‚" },
                { name: "14. èŠ‚åˆ¶", icon: "âš—ï¸", meaning: "è±¡å¾ç€å¹³è¡¡ã€è°ƒå’Œå’Œè‡ªæˆ‘æ§åˆ¶ã€‚åœ¨ä¸åŒäº‹ç‰©é—´æ‰¾åˆ°å¹³è¡¡ï¼Œé€‚åº¦è¡Œäº‹ï¼Œé¿å…æç«¯ã€‚" },
                { name: "15. æ¶é­”", icon: "ğŸ˜ˆ", meaning: "ä»£è¡¨ç€è¯±æƒ‘ã€æŸç¼šå’Œç‰©è´¨æ¬²æœ›ã€‚è®¤æ¸…è‡ªå·±çš„æ‰§å¿µå’ŒæŸç¼šï¼Œæ‰¾å›å†…å¿ƒçš„è‡ªç”±ã€‚" },
                { name: "16. å¡”", icon: "ğŸ°", meaning: "è±¡å¾ç€çªç„¶çš„æ”¹å˜ã€å´©æºƒå’Œè§‰é†’ã€‚æ—§æœ‰ç»“æ„å´©å¡Œï¼Œè™½ç„¶ç—›è‹¦ä½†ä¸ºæ–°çš„æˆé•¿åˆ›é€ ç©ºé—´ã€‚" },
                { name: "17. æ˜Ÿæ˜Ÿ", icon: "â­", meaning: "ä»£è¡¨ç€å¸Œæœ›ã€çµæ„Ÿå’Œä¿¡ä»°ã€‚å³ä½¿åœ¨é»‘æš—ä¸­ï¼Œä¹Ÿæœ‰å¸Œæœ›ä¹‹å…‰æŒ‡å¼•å‰è¡Œçš„æ–¹å‘ã€‚" },
                { name: "18. æœˆäº®", icon: "ğŸŒ™", meaning: "è±¡å¾ç€æ½œæ„è¯†ã€ç›´è§‰å’Œå¹»è±¡ã€‚å…³æ³¨æ¢¦å¢ƒå’Œç›´è§‰ï¼Œçœ‹æ¸…è¡¨è±¡èƒŒåçš„çœŸå®ã€‚" },
                { name: "19. å¤ªé˜³", icon: "â˜€ï¸", meaning: "ä»£è¡¨ç€æˆåŠŸã€å–œæ‚¦å’Œç”Ÿå‘½åŠ›ã€‚å……æ»¡æ´»åŠ›å’Œæ­£èƒ½é‡ï¼ŒåŠªåŠ›å°†å¾—åˆ°åº”æœ‰çš„å›æŠ¥ã€‚" },
                { name: "20. å®¡åˆ¤", icon: "ğŸ“¯", meaning: "è±¡å¾ç€è§‰é†’ã€é‡ç”Ÿå’Œè‡ªæˆ‘å®¡è§†ã€‚å€¾å¬å†…å¿ƒçš„å¬å”¤ï¼Œåšå‡ºæ”¹å˜ï¼Œè¿æ¥æ–°çš„å¼€å§‹ã€‚" },
                { name: "21. ä¸–ç•Œ", icon: "ğŸŒ", meaning: "ä»£è¡¨ç€å®Œæˆã€åœ†æ»¡å’Œæ•´åˆã€‚ä¸€ä¸ªé˜¶æ®µçš„å®Œç¾ç»“æŸï¼Œä¸ºæ–°çš„æ—…ç¨‹åšå¥½å‡†å¤‡ã€‚" }
            ],
            // 56å¼ å°é˜¿å°”å¡é‚£
            minor: [
                // æƒæ– (ç«å…ƒç´ )
                { name: "æƒæ–Ace", icon: "ğŸ”¥", meaning: "è¡ŒåŠ¨åŠ›çš„å¼€å§‹ï¼Œæ–°çš„è®¡åˆ’å’Œçƒ­æƒ…ï¼Œå……æ»¡æ´»åŠ›çš„å¼€ç«¯ã€‚" },
                { name: "æƒæ–äºŒ", icon: "ğŸ”¥", meaning: "è®¡åˆ’å’Œå†³å®šï¼Œæƒè¡¡é€‰æ‹©ï¼Œä¸ºæœªæ¥åšå‡†å¤‡ã€‚" },
                { name: "æƒæ–ä¸‰", icon: "ğŸ”¥", meaning: "è¿œè§å’Œè§„åˆ’ï¼Œå•†ä¸šæˆåŠŸï¼Œæµ·å¤–å‘å±•çš„æœºä¼šã€‚" },
                { name: "æƒæ–å››", icon: "ğŸ”¥", meaning: "ç¨³å®šå’Œåº†ç¥ï¼Œæš‚æ—¶çš„å®‰å®ï¼Œè¾¾æˆç›®æ ‡åçš„å–œæ‚¦ã€‚" },
                { name: "æƒæ–äº”", icon: "ğŸ”¥", meaning: "å†²çªå’Œç«äº‰ï¼Œå°çš„äº‰åµï¼Œéœ€è¦åè°ƒå’Œå¦¥åã€‚" },
                { name: "æƒæ–å…­", icon: "ğŸ”¥", meaning: "èƒœåˆ©å’Œè®¤å¯ï¼Œå…¬å¼€çš„æˆåŠŸï¼Œå¾—åˆ°ä»–äººèµèµã€‚" },
                { name: "æƒæ–ä¸ƒ", icon: "ğŸ”¥", meaning: "æŒ‘æˆ˜å’Œé˜²å¾¡ï¼Œé¢å¯¹å›°éš¾ï¼ŒåšæŒè‡ªå·±çš„ç«‹åœºã€‚" },
                { name: "æƒæ–å…«", icon: "ğŸ”¥", meaning: "å¿«é€Ÿè¡ŒåŠ¨ï¼Œæ¶ˆæ¯è¿…é€Ÿä¼ æ’­ï¼Œäº‹æƒ…å¿«é€Ÿå‘å±•ã€‚" },
                { name: "æƒæ–ä¹", icon: "ğŸ”¥", meaning: "è­¦æƒ•å’Œé˜²å¾¡ï¼Œè¿‡å»çš„ä¼¤å®³ï¼Œéœ€è¦è‡ªæˆ‘ä¿æŠ¤ã€‚" },
                { name: "æƒæ–å", icon: "ğŸ”¥", meaning: "è´Ÿæ‹…å’Œè´£ä»»ï¼Œè¿‡åº¦åŠ³ç´¯ï¼Œéœ€è¦æ”¾ä¸‹ä¸€äº›å‹åŠ›ã€‚" },
                { name: "æƒæ–ä¾ä»", icon: "ğŸ”¥", meaning: "çƒ­æƒ…çš„å¹´è½»äººï¼Œæ–°çš„æ¶ˆæ¯ï¼Œå……æ»¡æ´»åŠ›çš„å¼€å§‹ã€‚" },
                { name: "æƒæ–éª‘å£«", icon: "ğŸ”¥", meaning: "å†²åŠ¨å’Œçƒ­æƒ…ï¼Œå¿«é€Ÿè¡ŒåŠ¨ï¼Œå……æ»¡æ´»åŠ›çš„è¿½æ±‚è€…ã€‚" },
                { name: "æƒæ–ç‹å", icon: "ğŸ”¥", meaning: "çƒ­æƒ…å’Œæ´»åŠ›ï¼Œç‹¬ç«‹è‡ªä¿¡ï¼Œå……æ»¡åˆ›é€ åŠ›çš„å¥³æ€§ã€‚" },
                { name: "æƒæ–å›½ç‹", icon: "ğŸ”¥", meaning: "é¢†å¯¼åŠ›å’Œçƒ­æƒ…ï¼Œè‡ªä¿¡æœæ–­ï¼Œæœ‰é­…åŠ›çš„é¢†å¯¼è€…ã€‚" },
                
                // åœ£æ¯ (æ°´å…ƒç´ )
                { name: "åœ£æ¯Ace", icon: "ğŸ’§", meaning: "æƒ…æ„Ÿçš„å¼€å§‹ï¼Œæ–°çš„å…³ç³»ï¼Œå¿ƒçµçš„æ»¡è¶³å’Œå–œæ‚¦ã€‚" },
                { name: "åœ£æ¯äºŒ", icon: "ğŸ’§", meaning: "åˆä½œå’Œå‹è°Šï¼Œå¹³ç­‰çš„å…³ç³»ï¼Œäº’ç›¸ç†è§£å’Œæ”¯æŒã€‚" },
                { name: "åœ£æ¯ä¸‰", icon: "ğŸ’§", meaning: "åº†ç¥å’Œå‹è°Šï¼Œç¤¾äº¤æ´»åŠ¨ï¼Œå›¢é˜Ÿåˆä½œçš„æˆåŠŸã€‚" },
                { name: "åœ£æ¯å››", icon: "ğŸ’§", meaning: "ä¸æ»¡å’Œåæ€ï¼Œé”™å¤±æœºä¼šï¼Œéœ€è¦çœ‹åˆ°çœ¼å‰çš„ç¾å¥½ã€‚" },
                { name: "åœ£æ¯äº”", icon: "ğŸ’§", meaning: "æ‚²ä¼¤å’Œå¤±è½ï¼Œå…³æ³¨å¤±å»çš„ï¼Œå¿½ç•¥æ‹¥æœ‰çš„ã€‚" },
                { name: "åœ£æ¯å…­", icon: "ğŸ’§", meaning: "å›å¿†å’Œæ€€æ—§ï¼Œè¿‡å»çš„ç¾å¥½ï¼Œå›å½’ç«¥å¹´çš„å®‰å…¨æ„Ÿã€‚" },
                { name: "åœ£æ¯ä¸ƒ", icon: "ğŸ’§", meaning: "å¹»æƒ³å’Œé€‰æ‹©ï¼Œå†…å¿ƒçš„æ¸´æœ›ï¼ŒåŒºåˆ†ç°å®ä¸æ¢¦æƒ³ã€‚" },
                { name: "åœ£æ¯å…«", icon: "ğŸ’§", meaning: "ç¦»å¼€å’Œå¯»æ‰¾ï¼Œä¸æ»¡ç°çŠ¶ï¼Œå¯»æ±‚æ›´é«˜çš„æ»¡è¶³ã€‚" },
                { name: "åœ£æ¯ä¹", icon: "ğŸ’§", meaning: "æ»¡è¶³å’Œå¹¸ç¦ï¼Œå†…å¿ƒçš„å–œæ‚¦ï¼Œå¯¹ç°çŠ¶çš„æ»¡æ„ã€‚" },
                { name: "åœ£æ¯å", icon: "ğŸ’§", meaning: "å®¶åº­å¹¸ç¦ï¼Œæƒ…æ„Ÿåœ†æ»¡ï¼Œå’Œè°çš„å®¶åº­å…³ç³»ã€‚" },
                { name: "åœ£æ¯ä¾ä»", icon: "ğŸ’§", meaning: "æ•æ„Ÿçš„å¹´è½»äººï¼Œæƒ…æ„Ÿçš„å¼€å§‹ï¼Œå¯Œæœ‰æƒ³è±¡åŠ›ã€‚" },
                { name: "åœ£æ¯éª‘å£«", icon: "ğŸ’§", meaning: "æµªæ¼«å’Œæ„Ÿæ€§ï¼Œæ¸©æŸ”çš„è¿½æ±‚è€…ï¼Œæƒ…æ„Ÿä¸°å¯Œã€‚" },
                { name: "åœ£æ¯ç‹å", icon: "ğŸ’§", meaning: "æ¸©æŸ”å’Œå…³æ€€ï¼Œå……æ»¡çˆ±å¿ƒï¼Œå–„è§£äººæ„çš„å¥³æ€§ã€‚" },
                { name: "åœ£æ¯å›½ç‹", icon: "ğŸ’§", meaning: "æˆç†Ÿå’ŒåŒ…å®¹ï¼Œå¯Œæœ‰åŒæƒ…å¿ƒï¼Œæƒ…æ„Ÿç¨³å®šçš„é¢†å¯¼è€…ã€‚" },
                
                // å®å‰‘ (é£å…ƒç´ )
                { name: "å®å‰‘Ace", icon: "ğŸ’¨", meaning: "æ€æƒ³çš„å¼€å§‹ï¼Œæ–°çš„æƒ³æ³•ï¼Œæ¸…æ™°çš„æ€ç»´å’Œæ²Ÿé€šã€‚" },
                { name: "å®å‰‘äºŒ", icon: "ğŸ’¨", meaning: "é€ƒé¿å’ŒçŠ¹è±«ï¼Œä¸æ„¿é¢å¯¹ç°å®ï¼Œéœ€è¦åšå‡ºé€‰æ‹©ã€‚" },
                { name: "å®å‰‘ä¸‰", icon: "ğŸ’¨", meaning: "æ‚²ä¼¤å’Œå¿ƒç¢ï¼Œæƒ…æ„Ÿçš„ç—›è‹¦ï¼Œéœ€è¦æ—¶é—´ç–—æ„ˆã€‚" },
                { name: "å®å‰‘å››", icon: "ğŸ’¨", meaning: "ä¼‘æ¯å’Œåæ€ï¼Œæš‚æ—¶çš„å¹³é™ï¼Œéœ€è¦è¿œç¦»çº·äº‰ã€‚" },
                { name: "å®å‰‘äº”", icon: "ğŸ’¨", meaning: "å†²çªå’Œèƒœåˆ©ï¼Œå¾—ä¸å¿å¤±çš„èƒœåˆ©ï¼Œäººé™…å…³ç³»ç´§å¼ ã€‚" },
                { name: "å®å‰‘å…­", icon: "ğŸ’¨", meaning: "ç–—æ„ˆå’Œè¿‡æ¸¡ï¼Œæ…¢æ…¢æ¢å¤ï¼Œç¦»å¼€ç—›è‹¦çš„ç¯å¢ƒã€‚" },
                { name: "å®å‰‘ä¸ƒ", icon: "ğŸ’¨", meaning: "ç­–ç•¥å’Œæ¬ºéª—ï¼Œæ™ºå–è€ŒéåŠ›æ•Œï¼Œå¯èƒ½ä¸è¯šå®ã€‚" },
                { name: "å®å‰‘å…«", icon: "ğŸ’¨", meaning: "é™åˆ¶å’ŒæŸç¼šï¼Œè‡ªæˆ‘è®¾é™ï¼Œéœ€è¦å¯»æ±‚å¸®åŠ©å’Œè§£è„±ã€‚" },
                { name: "å®å‰‘ä¹", icon: "ğŸ’¨", meaning: "ç„¦è™‘å’Œææƒ§ï¼Œå†…å¿ƒçš„ç—›è‹¦ï¼Œå¤±çœ å’Œç²¾ç¥å‹åŠ›ã€‚" },
                { name: "å®å‰‘å", icon: "ğŸ’¨", meaning: "ç—›è‹¦å’Œç»“æŸï¼Œæœ€ç»ˆçš„æ‰“å‡»ï¼Œä½†ä¹Ÿæ˜¯æ–°çš„å¼€å§‹ã€‚" },
                { name: "å®å‰‘ä¾ä»", icon: "ğŸ’¨", meaning: "å¥½å¥‡çš„å¹´è½»äººï¼Œæ¶ˆæ¯å’Œæ²Ÿé€šï¼Œæ€ç»´æ•æ·ã€‚" },
                { name: "å®å‰‘éª‘å£«", icon: "ğŸ’¨", meaning: "æ•æ·å’Œå†²åŠ¨ï¼Œæ€ç»´å¿«é€Ÿï¼Œç›´è¨€ä¸è®³çš„æ²Ÿé€šã€‚" },
                { name: "å®å‰‘ç‹å", icon: "ğŸ’¨", meaning: "æ™ºæ…§å’Œç‹¬ç«‹ï¼Œæ€ç»´æ¸…æ™°ï¼Œæœ‰æ´å¯ŸåŠ›çš„å¥³æ€§ã€‚" },
                { name: "å®å‰‘å›½ç‹", icon: "ğŸ’¨", meaning: "ç†æ™ºå’Œæƒå¨ï¼Œå†·é™æœæ–­ï¼Œæœ‰æ™ºæ…§çš„é¢†å¯¼è€…ã€‚" },
                
                // æ˜Ÿå¸ (åœŸå…ƒç´ )
                { name: "æ˜Ÿå¸Ace", icon: "ğŸª™", meaning: "ç‰©è´¨çš„å¼€å§‹ï¼Œæ–°çš„æœºä¼šï¼Œè´¢åŠ¡ä¸Šçš„å¥½è¿ã€‚" },
                { name: "æ˜Ÿå¸äºŒ", icon: "ğŸª™", meaning: "å¹³è¡¡å’Œé€‰æ‹©ï¼Œå…¼é¡¾ä¸åŒäº‹åŠ¡ï¼Œè´¢åŠ¡ä¸Šçš„æƒè¡¡ã€‚" },
                { name: "æ˜Ÿå¸ä¸‰", icon: "ğŸª™", meaning: "åˆä½œå’ŒæŠ€èƒ½ï¼Œå›¢é˜Ÿå·¥ä½œï¼Œä¸“ä¸šæŠ€èƒ½çš„è¿ç”¨ã€‚" },
                { name: "æ˜Ÿå¸å››", icon: "ğŸª™", meaning: "ç¨³å®šå’Œå æœ‰ï¼Œè´¢åŠ¡å®‰å…¨ï¼Œä½†å¯èƒ½è¿‡äºåå•¬ã€‚" },
                { name: "æ˜Ÿå¸äº”", icon: "ğŸª™", meaning: "è´¢åŠ¡å›°éš¾ï¼Œç‰©è´¨ç¼ºä¹ï¼Œä½†æƒ…æ„Ÿä¸Šå¯èƒ½æœ‰æ”¯æŒã€‚" },
                { name: "æ˜Ÿå¸å…­", icon: "ğŸª™", meaning: "ç»™äºˆå’Œæ¥å—ï¼Œæ…ˆå–„å’Œå¹³è¡¡ï¼Œå…¬å¹³çš„äº¤æ¢ã€‚" },
                { name: "æ˜Ÿå¸ä¸ƒ", icon: "ğŸª™", meaning: "è¯„ä¼°å’Œè€å¿ƒï¼Œå®¡è§†æˆæœï¼Œéœ€è¦è€å¿ƒç­‰å¾…æ”¶è·ã€‚" },
                { name: "æ˜Ÿå¸å…«", icon: "ğŸª™", meaning: "æŠ€èƒ½å’Œå·¥ä½œï¼Œå‹¤å¥‹åŠªåŠ›ï¼Œæå‡ä¸“ä¸šèƒ½åŠ›ã€‚" },
                { name: "æ˜Ÿå¸ä¹", icon: "ğŸª™", meaning: "å¯Œè¶³å’Œç‹¬ç«‹ï¼Œè´¢åŠ¡ç¨³å®šï¼Œäº«å—åŠ³åŠ¨æˆæœã€‚" },
                { name: "æ˜Ÿå¸å", icon: "ğŸª™", meaning: "è´¢å¯Œå’Œä¼ æ‰¿ï¼Œå®¶åº­å¯Œè¶³ï¼Œé•¿ä¹…çš„è´¢åŠ¡å®‰å…¨ã€‚" },
                { name: "æ˜Ÿå¸ä¾ä»", icon: "ğŸª™", meaning: "åŠ¡å®çš„å¹´è½»äººï¼Œå­¦ä¹ æ–°æŠ€èƒ½ï¼Œè´¢åŠ¡ä¸Šçš„å¼€å§‹ã€‚" },
                { name: "æ˜Ÿå¸éª‘å£«", icon: "ğŸª™", meaning: "è¸å®å’Œå¯é ï¼Œç¨³æ­¥å‰è¿›ï¼Œæ³¨é‡å®é™…æˆæœã€‚" },
                { name: "æ˜Ÿå¸ç‹å", icon: "ğŸª™", meaning: "ä¸°é¥¶å’ŒåŠ¡å®ï¼Œå¯Œæœ‰è€å¿ƒï¼Œæ³¨é‡ç‰©è´¨å®‰å…¨çš„å¥³æ€§ã€‚" },
                { name: "æ˜Ÿå¸å›½ç‹", icon: "ğŸª™", meaning: "æˆåŠŸå’Œå¯Œè¶³ï¼Œå•†ä¸šå¤´è„‘ï¼ŒåŠ¡å®çš„é¢†å¯¼è€…ã€‚" }
            ]
        };

        // ç‰Œé˜µé…ç½®
        const spreadConfigs = {
            single: {
                count: 1,
                info: "<strong>å•ç‰ŒæŠ½ç‰Œ</strong>ï¼šæœ€ç®€æ´çš„ç‰Œé˜µï¼Œç”¨äºå¿«é€Ÿè·å–å½“ä¸‹é—®é¢˜çš„æ ¸å¿ƒæŒ‡å¼•ã€‚",
                positions: ["å½“å‰èƒ½é‡"]
            },
            choice: {
                count: 2,
                info: "<strong>äºŒé€‰ä¸€ç‰Œé˜µ</strong>ï¼šç”¨äºåœ¨ä¸¤ä¸ªé€‰é¡¹ä¹‹é—´åšå†³å®šï¼Œç¬¬ä¸€å¼ ä»£è¡¨é€‰é¡¹Aï¼Œç¬¬äºŒå¼ ä»£è¡¨é€‰é¡¹Bã€‚",
                positions: ["é€‰é¡¹A", "é€‰é¡¹B"]
            },
            three: {
                count: 3,
                info: "<strong>ä¸‰ç‰Œè¿åŠ¿ç‰Œé˜µ</strong>ï¼šç»å…¸çš„æ—¶é—´æµç‰Œé˜µï¼Œè§£è¯»è¿‡å»çš„å½±å“ã€ç°åœ¨çš„çŠ¶å†µå’Œæœªæ¥çš„å‘å±•è¶‹åŠ¿ã€‚",
                positions: ["è¿‡å»çš„å½±å“", "ç°åœ¨çš„çŠ¶å†µ", "æœªæ¥çš„å‘å±•"]
            },
            five: {
                count: 5,
                info: "<strong>äº”ç‰Œå¿ƒçµç‰Œé˜µ</strong>ï¼šæ·±å…¥æ¢ç´¢é—®é¢˜çš„æ ¸å¿ƒï¼Œæ¶µç›–ç°çŠ¶ã€é˜»ç¢ã€å»ºè®®ã€æ½œåœ¨å’Œç»“æœäº”ä¸ªç»´åº¦ã€‚",
                positions: ["é—®é¢˜æ ¸å¿ƒ", "ä¸»è¦é˜»ç¢", "è¡ŒåŠ¨å»ºè®®", "æ½œåœ¨æœºä¼š", "æœ€ç»ˆç»“æœ"]
            },
            celtic: {
                count: 10,
                info: "<strong>å‡¯å°”ç‰¹åå­—ç‰Œé˜µ</strong>ï¼šæœ€ç»å…¸çš„å…¨é¢ç‰Œé˜µï¼Œæ¶µç›–é—®é¢˜çš„å„ä¸ªå±‚é¢ï¼Œæä¾›æ·±åº¦è§£è¯»ã€‚",
                positions: [
                    "ç°çŠ¶", "é˜»ç¢/å¸®åŠ©", "è¿‡å»", "æœªæ¥", "å¤–åœ¨ç¯å¢ƒ", 
                    "å†…åœ¨æƒ³æ³•", "è¿‘æœŸç»“æœ", "ä»–äººæ€åº¦", "å¸Œæœ›/ææƒ§", "æœ€ç»ˆç»“æœ"
                ]
            }
        };

        // å½“å‰é€‰ä¸­çš„ç‰Œé˜µ
        let currentSpread = "single";
        // æ‰€æœ‰å¡”ç½—ç‰Œçš„åˆå¹¶æ•°ç»„
        const allTarotCards = [...tarotCards.major, ...tarotCards.minor];

        // è·å–DOMå…ƒç´ 
        const tarotContainer = document.getElementById('tarotContainer');
        const drawBtn = document.getElementById('draw-btn');
        const spreadBtns = document.querySelectorAll('.spread-btn');
        const spreadInfo = document.getElementById('spreadInfo');

        // åˆå§‹åŒ–ç‰Œé˜µé€‰æ‹©
        spreadBtns.forEach(btn => {
            btn.addEventListener('click', function() {
                // åˆ‡æ¢æ¿€æ´»çŠ¶æ€
                spreadBtns.forEach(b => b.classList.remove('active'));
                this.classList.add('active');
                
                // æ›´æ–°å½“å‰ç‰Œé˜µ
                currentSpread = this.dataset.spread;
                
                // æ›´æ–°ç‰Œé˜µè¯´æ˜
                spreadInfo.innerHTML = spreadConfigs[currentSpread].info;
                
                // é‡ç½®ç‰Œå®¹å™¨æ ·å¼
                tarotContainer.className = `tarot-container ${currentSpread}`;
                
                // æ¸…ç©ºå¹¶é‡æ–°åˆ›å»ºå¡ç‰Œ
                resetCards();
            });
        });

        // åˆ›å»ºå¡”ç½—ç‰Œå…ƒç´ 
        function createTarotCards(count) {
            tarotContainer.innerHTML = '';
            
            for (let i = 0; i < count; i++) {
                // åˆ›å»ºå¡ç‰ŒåŒ…è£…å™¨
                const cardWrapper = document.createElement('div');
                cardWrapper.className = 'card-wrapper';
                
                // åˆ›å»ºå¡ç‰Œæœ¬ä½“
                const card = document.createElement('div');
                card.className = 'tarot-card';
                card.dataset.index = i;
                
                // ç‰ŒèƒŒ
                const cardBack = document.createElement('div');
                cardBack.className = 'card-face card-back';
                
                // ç‰Œé¢
                const cardFront = document.createElement('div');
                cardFront.className = 'card-face card-front';
                
                // ç‰Œé¢å†…å®¹
                const cardTitle = document.createElement('div');
                cardTitle.className = 'card-title';
                cardTitle.textContent = 'å¡”ç½—ç‰Œ';
                
                const cardImage = document.createElement('div');
                cardImage.className = 'card-image';
                cardImage.textContent = 'ğŸ´';
                
                const cardMeaning = document.createElement('div');
                cardMeaning.className = 'card-meaning';
                cardMeaning.textContent = 'ç‚¹å‡»æŠ½å–æŒ‰é’®ï¼Œæ­å¼€ä½ çš„å¡”ç½—ç‰Œä¹‹è°œ...';
                
                // ç»„è£…ç‰Œé¢
                cardFront.appendChild(cardTitle);
                cardFront.appendChild(cardImage);
                cardFront.appendChild(cardMeaning);
                
                // ç»„è£…å¡ç‰Œ
                card.appendChild(cardBack);
                card.appendChild(cardFront);
                
                // åˆ›å»ºç‰Œä½æ–‡å­—å…ƒç´ ï¼ˆç§»åˆ°å¡ç‰Œä¸‹æ–¹ï¼‰
                const cardPosition = document.createElement('div');
                cardPosition.className = 'card-position';
                cardPosition.textContent = spreadConfigs[currentSpread].positions[i] || `ç‰Œ${i+1}`;
                
                // ç»„è£…åŒ…è£…å™¨ï¼šå¡ç‰Œ + ä¸‹æ–¹æ–‡å­—
                cardWrapper.appendChild(card);
                cardWrapper.appendChild(cardPosition);
                
                // æ·»åŠ åˆ°å®¹å™¨
                tarotContainer.appendChild(cardWrapper);
                
                // ç‚¹å‡»å¡ç‰Œç¿»è½¬
                card.addEventListener('click', function() {
                    if (this.classList.contains('flipped')) {
                        this.classList.remove('flipped');
                    } else {
                        this.classList.add('flipped');
                    }
                });
            }
        }

        // é‡ç½®å¡ç‰Œ
        function resetCards() {
            const cardCount = spreadConfigs[currentSpread].count;
            createTarotCards(cardCount);
            drawBtn.innerHTML = "æŠ½å–å¡”ç½—ç‰Œ";
            drawBtn.disabled = false;
        }

        // æŠ½å–å¡”ç½—ç‰Œ
        function drawTarotCards() {
            // ç¦ç”¨æŒ‰é’®
            drawBtn.disabled = true;
            drawBtn.innerHTML = '<span class="loading"></span>æ­£åœ¨æŠ½å–...';
            
            // è·å–æ‰€æœ‰å¡ç‰Œå…ƒç´ 
            const cards = document.querySelectorAll('.tarot-card');
            const drawnIndexes = new Set();
            
            // æ¨¡æ‹ŸæŠ½ç‰Œå»¶è¿Ÿ
            setTimeout(() => {
                cards.forEach((card, index) => {
                    // éšæœºé€‰æ‹©ä¸é‡å¤çš„ç‰Œ
                    let randomIndex;
                    do {
                        randomIndex = Math.floor(Math.random() * allTarotCards.length);
                    } while (drawnIndexes.has(randomIndex));
                    drawnIndexes.add(randomIndex);
                    
                    const selectedCard = allTarotCards[randomIndex];
                    
                    // å»¶è¿Ÿç¿»è½¬æ¯å¼ ç‰Œï¼Œè¥é€ æŠ½ç‰ŒåŠ¨ç”»
                    setTimeout(() => {
                        // æ›´æ–°ç‰Œé¢å†…å®¹
                        const cardFront = card.querySelector('.card-front');
                        cardFront.querySelector('.card-title').textContent = selectedCard.name;
                        cardFront.querySelector('.card-image').textContent = selectedCard.icon;
                        cardFront.querySelector('.card-meaning').textContent = selectedCard.meaning;
                        
                        // ç¿»ç‰ŒåŠ¨ç”»
                        card.classList.add('flipped');
                        
                        // æœ€åä¸€å¼ ç‰Œç¿»å®Œåæ¢å¤æŒ‰é’®
                        if (index === cards.length - 1) {
                            drawBtn.innerHTML = "é‡æ–°æŠ½å–";
                            drawBtn.disabled = false;
                        }
                    }, index * 500); // æ¯å¼ ç‰Œé—´éš”500msç¿»è½¬
                });
            }, 800);
        }

        // ç»‘å®šæŠ½å–æŒ‰é’®äº‹ä»¶
        drawBtn.addEventListener('click', function() {
            // é‡ç½®æ‰€æœ‰å¡ç‰Œä¸ºæœªç¿»è½¬çŠ¶æ€
            document.querySelectorAll('.tarot-card').forEach(card => {
                card.classList.remove('flipped');
            });
            
            // å»¶è¿Ÿåå¼€å§‹æŠ½ç‰Œ
            setTimeout(drawTarotCards, 300);
        });

        // åˆå§‹åŒ–åˆ›å»ºå¡ç‰Œ
        createTarotCards(spreadConfigs[currentSpread].count);
        
        // çª—å£å¤§å°å˜åŒ–æ—¶é‡æ–°é€‚é…
        window.addEventListener('resize', function() {
            resetCards();
        });

        // é”™è¯¯å¤„ç†
        window.addEventListener('error', function(e) {
            console.error('å‘ç”Ÿé”™è¯¯:', e.error);
            alert('æŠ±æ­‰ï¼Œå¡”ç½—ç‰ŒåŠ è½½å‡ºé”™ï¼Œè¯·åˆ·æ–°é¡µé¢é‡è¯•ã€‚');
            drawBtn.innerHTML = "æŠ½å–å¡”ç½—ç‰Œ";
            drawBtn.disabled = false;
        });
    </script>
</body>
</html>